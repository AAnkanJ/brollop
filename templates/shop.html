{% extends 'base.html' %}

{% load static %}

{% block breadcrumb %}
  <li class="breadcrumb-item active">Välkommen till {{ wishlist.description }}</li>
{% endblock %}

{% block content %}
  <table class="table">
    <thead class="thead-inverse">
      <tr>
        <th>Önskningar {{ wishlist.name }}</th>
      </tr>
    </thead>
  </table>
  <div class="row">
  {% for gift in wishlist.gift.all %}
  <div class ="col-md-3">
    <div class="card mb-2 border-dark" style="width:15rem">
        <div class="card-header text-white bg-dark py-2 px-3">{{ gift.name }}</div>
        <img class="card-img-top" src="{% static gift.picture %}" alt="Card image cap">
        <div class="card-body p-3">
            <div class="row">
              <div class="col-10">
                  {{ gift.message }}
              </div>
              {%if not gift.bought %}
              <div class="col-10 text-muted">
                  Kostnad kvar att bidra med: {{ gift.costLeft }}kr
              </div>
              {%endif %}
              {%if gift.bought %}
              <div class="col-10 text-muted">
                  Köpt för {{ gift.cost }}kr, stort tack!
              </div>
              {%endif %}
            </div>
            {%if not gift.bought %}
          <a href="{% url 'buy_gift' gift.pk %}" class="btn btn-primary">Köp</a>
          {% endif %}
        </div>
    </div>
  </div>
  {% if forloop.counter|divisibleby:3 %}
      </div><div class="row">
    {% endif %}
  {% endfor %}
  </div>
{% endblock %}